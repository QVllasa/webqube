<div *ngIf="project" class="bg-white">
  <div *ngIf="project.planID" class="max-w-7xl mx-auto  py-8 px-4 sm:px-6 lg:py-16 lg:px-8">
    <h2 class="text-2xl text-center font-extrabold tracking-tight text-gray-900 sm:text-4xl">
      <span class="block">Erweiterungen.</span>
      <span class="block mt-4 text-lg font-medium text-gray-500">Füge individuell Funktionalitäten und
        Erweiterungen
        hinzu.</span>
    </h2>
    <!-- This example requires Tailwind CSS v2.0+ -->
    <fieldset class="mt-5">
      <legend class="sr-only">Features</legend>
      <div class="space-y-4">
        <ng-container *ngFor="let feature of features">
          <label *ngIf="feature.value.isAddon"
                 class="relative block bg-white border rounded-lg shadow-sm px-6 py-4 cursor-pointer  focus:outline-none">
            <div class="sm:flex sm:justify-between">
              <div class="flex items-center">
                <div class="absolute z-50 flex justify-center items-center left-0 top-0 text-white rounded-md p-3  h-20 w-20 mr-3">
                  <ng-container *ngIf="feature.value.valueType === 'boolean'">
                    <mat-icon class="material-symbols-rounded text-3xl -mt-6" [ngClass]="feature.value.value ? 'text-green-500': 'text-gray-400'" >check_circle</mat-icon>
                  </ng-container>
                  <ng-container *ngIf="feature.value.valueType === 'number'">
                    <p [matTooltip]="'Verfügbar'" class="-mt-4 text-3xl font-semibold text-gray-800">{{feature.value.value}}</p>
                  </ng-container>
                </div>
                <div class="ml-16 text-sm">
                  <p id="server-size-0-label" class="font-medium text-gray-900">{{feature.value.title}}</p>
                  <div id="server-size-0-description-0" class="text-gray-500">
                    <p class="sm:inline">{{feature.value.description}}</p>
                  </div>
                </div>
              </div>
              <div id="server-size-0-description-1" class="mt-2 flex text-sm sm:mt-0 sm:block sm:ml-4 sm:text-right">
                <div class="text-sm">
                  <ng-container *ngIf="feature.value.valueType === 'boolean' && !feature.value.value">
                    <button (click)="activateFeature(feature)"
                            class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-amber-600  focus:outline-none">Aktivieren<span
                      class="sr-only">
                      {{feature.value.title}}</span></button>
                  </ng-container>
                  <ng-container *ngIf="feature.value.valueType === 'number'">
                    <div class="flex gap-4" >
                      <div>
                        <span class=" relative inline-flex shadow-sm rounded-md">
                          <button (click)="minusOne(counter)" type="button" class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500  focus:z-10 focus:outline-none ">
                            <span class="sr-only">Previous</span>
                            <mat-icon class="material-symbols-rounded">remove</mat-icon>
                          </button>
                          <input #counter value="1" type="number" min="1" max="12" class="-ml-px relative inline-flex items-center  pl-7 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700  focus:z-10 focus:outline-none ">
                          <button (click)="plusOne(counter)" type="button" class="-ml-px relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 focus:z-10 focus:outline-none ">
                            <span class="sr-only">Next</span>
                            <mat-icon class="material-symbols-rounded">add</mat-icon>
                          </button>
                        </span>
                      </div>
                      <button (click)="addFeature(feature)"
                              class=" inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-amber-600 hover:bg-amber-700 focus:outline-none">Hinzufügen<span
                        class="sr-only">
                        {{feature.value.title}}</span></button>
                    </div>
                  </ng-container>
                </div>
              </div>
            </div>
            <div class="w-full">
              <div class="mt-8">
                <div class="flex items-center">
                  <h4 class="flex-shrink-0 pr-4 bg-white text-sm tracking-wider font-semibold uppercase text-amber-600">
                    Was du bekommst</h4>
                  <div class="flex-1 border-t-2 border-gray-200"></div>
                </div>
                <ul role="list" class="mt-8 space-y-5 lg:space-y-0 lg:grid lg:grid-cols-2 lg:gap-x-8 lg:gap-y-5">
                  <li *ngFor="let benefit of feature.value.benefits" class="flex items-start lg:col-span-1">
                    <div class="flex-shrink-0">
                      <mat-icon class="text-green-500 material-symbols-rounded">task_alt</mat-icon>
                    </div>
                    <p class="ml-3 text-sm text-gray-700">{{benefit}}</p>
                  </li>
                </ul>
              </div>
            </div>
          </label>
        </ng-container>
      </div>
    </fieldset>
    <dl class="mt-5 grid grid-cols-1 gap-5 sm:grid-cols-2 ">
      <ng-container *ngFor="let feature of features">
        <div *ngIf="feature.value.isAddon"
             class="relative bg-white pt-5 px-4 pb-12 sm:pt-6 sm:px-6 shadow rounded-lg overflow-hidden">

          <dt>
            <div class="absolute text-white rounded-md p-3 bg-amber-500 h-12 w-12">
              <!-- Heroicon name: outline/users -->
              <mat-icon
                class="material-symbols-rounded">{{feature.value.icon}}</mat-icon>
            </div>
            <p class="ml-16 text-sm font-medium text-gray-500 truncate">{{feature.value.title}}</p>
          </dt>
          <dd class="ml-16 pb-6 flex items-baseline">
            <ng-container *ngIf="feature.value.valueType === 'boolean'">
              <button type="button" [ngClass]="feature.value.value ? 'bg-amber-500 ':'bg-gray-200 '"
                      class="mt-2 relative inline-flex flex-shrink-0 h-4 w-8 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none "
                      role="switch" aria-checked="false">
                <span class="sr-only">Switch</span>
                <!-- Enabled: "translate-x-5", Not Enabled: "translate-x-0" -->
                <span aria-hidden="true" [ngClass]="feature.value.value ? 'translate-x-4':'translate-x-0'"
                      class="pointer-events-none inline-block h-3 w-3 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200"></span>
              </button>
            </ng-container>
            <ng-container *ngIf="feature.value.valueType === 'number'">
              <p class="mt-1 text-lg font-semibold text-gray-800">{{feature.value.value}}</p>
            </ng-container>
            <div class="absolute bottom-0 inset-x-0 bg-gray-50 px-4 py-4 sm:px-6 h-12">
              <div class="text-sm">
                <ng-container *ngIf="feature.value.valueType === 'boolean' && !feature.value.value">
                  <button (click)="activateFeature(feature)"
                          class="font-medium text-amber-600 hover:text-amber-500">Aktivieren<span
                    class="sr-only">
                    {{feature.value.title}}</span></button>
                </ng-container>
                <ng-container *ngIf="feature.value.valueType === 'number'">

                  <button (click)="addFeature(feature)"
                          class="font-medium text-amber-600 hover:text-amber-500">Hinzufügen<span
                    class="sr-only">
                    {{feature.value.title}}</span></button>
                </ng-container>
              </div>
            </div>
          </dd>
          <div
            [matTooltip]="'some helper text'"
            class="absolute top-0 right-1 text-gray-400 hover:text-gray-500 text-right">
            <mat-icon class="material-symbols-rounded text-base">help</mat-icon>
          </div>
        </div>
      </ng-container>
    </dl>
  </div>
</div>
