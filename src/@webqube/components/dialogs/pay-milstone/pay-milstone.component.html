<ng-container *ngIf="milestones$ | async as milestones">
  <div *ngIf="!onSuccess">
    <div class="p-4 -ml-4 -mt-4 mb-8 flex justify-center items-center flex-wrap sm:flex-nowrap">
      <div class="ml-4 mt-4 text-center">
        <h3 class="text-2xl leading-6 font-semibold text-gray-900">Meilenstein freigeben</h3>
      </div>
    </div>
    <div class="p-4 grid grid-cols-2 divide-x">
      <div class="flow-root flex-1 p-8 pl-0">
        <ul role="list" class="-mb-8">
          <li class="h-24" *ngFor="let milestone of sortByOrder(milestones); let i = index">
            <div class="relative ">
              <span *ngIf="milestones.length-1 !== i"
                    class="absolute top-14 left-4 -ml-px h-full w-0.5 bg-gray-200"
                    aria-hidden="true">
              </span>
              <div class="relative flex space-x-3">
                <div class="flex items-center">
                  <span class="h-8 w-8 flex items-center justify-center ring-8 ring-white">
                    <span
                      [ngClass]="milestone.id === board.milestoneID ?  board.icon_classes : 'bg-gray-100 text-gray-400'"
                      class="rounded-lg inline-flex p-3  ">
                      <span
                        class="rounded-lg inline-flex   ">
                        <mat-icon class="material-symbols-rounded">
                          {{milestone.icon}}
                        </mat-icon>
                      </span>
                    </span>
                  </span>
                </div>
                <div
                  [ngClass]="milestone.id === board.milestoneID ?  'text-gray-900 font-bold text-lg ' : 'text-gray-400 font-medium text-base'"
                  class="min-w-0 flex-1 flex justify-between space-x-4  px-2 py-4 ">
                  <!--                <div>-->
                  <div
                    class="min-w-0 flex-1 flex justify-between space-x-4  px-2 py-4 ">
                    <div>
                      <p>{{milestone.label}}</p>
                    </div>
                    <div *ngIf="plan">
                      <p>{{this.plan.price / 3 + '€'}}</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </li>
        </ul>
      </div>
      <div class="flex-1 p-8 pr-0  justify-center">
        <div class="flex justify-center">
          <ngx-paypal [config]="payPalConfig"></ngx-paypal>
        </div>
      </div>
    </div>
    <div class="flex justify-center items-center my-3">
      <p class="mt-5 text-sm text-gray-500 text-center">Ab hier beginnen wir mit der eigentlichen Umsetzung. <br>
        Die geplanten Aufgaben verschieben wir nach und nach in die Spalte "In Bearbeitung" und anschließend in
        "Erledigt".</p>
    </div>
  </div>
</ng-container>


<div *ngIf="onSuccess"
     class="inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden  transform transition-all sm:my-8 sm:align-middle sm:max-w-sm sm:w-full sm:p-6">
  <div>
    <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100">
      <!-- Heroicon name: outline/check -->
      <svg class="h-6 w-6 text-green-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
           stroke="currentColor" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
      </svg>
    </div>
    <div class="mt-3 text-center sm:mt-5">
      <h3 class="text-lg leading-6 font-medium text-gray-900" id="modal-title">Zahlung erfolgreich</h3>
      <div class="mt-2">
        <p class="text-sm text-gray-500">Ab hier beginnen wir die einzelnen Aufgaben abzuarbeiten.
          Sollte uns oder dir etwas in der Planung entgangen sein, dann füge gerne noch Aufgaben hinzu.</p>
      </div>
    </div>
  </div>
  <div class="mt-5 sm:mt-6">
    <button type="button"
            mat-dialog-close
            mat-ripple
            class="inline-flex justify-center w-full rounded-md border border-transparent shadow-sm px-4 py-2 bg-amber-600 text-base font-medium text-white hover:bg-amber-700 focus:outline-none  sm:text-sm">
      Zurück zum Dashboard
    </button>
  </div>
</div>


